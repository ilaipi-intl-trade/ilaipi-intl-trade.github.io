import{_}from"./Bv91K4oE.js";import{y as $,q as j,v as B,g as r,c as m,o as d,x as N,z as I,s as w,j as x,A as Q,f as v,a as e,h as M,t as c,b as f,w as S,d as U,i as A}from"./DDa_C9sS.js";import{_ as k}from"./-oamxR8u.js";import{u as z}from"./Dd9jjlNl.js";const O=$({__name:"Input",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(a,{emit:l}){const n=a,t=z(n,"modelValue",l,{passive:!0,defaultValue:n.defaultValue});return(u,g)=>j((d(),m("input",{"onUpdate:modelValue":g[0]||(g[0]=p=>w(t)?t.value=p:null),"data-slot":"input",class:N(r(I)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input shadow-xs flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base outline-none transition-[color,box-shadow] file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n.class))},null,2)),[[B,r(t)]])}}),q={class:"mb-6 flex items-center gap-4"},D={class:"h-16 w-16 overflow-hidden rounded-lg bg-gray-100 dark:bg-gray-800"},H={class:"font-medium text-gray-900 dark:text-white"},P={class:"text-primary text-lg font-bold"},R={class:"mb-6"},T={class:"flex items-center gap-2"},E=["disabled"],G={class:"mb-6 rounded-lg bg-gray-50 p-4 dark:bg-gray-800"},J={class:"flex justify-between text-sm text-gray-600 dark:text-gray-300"},L={class:"flex justify-between text-sm text-gray-600 dark:text-gray-300"},F={class:"flex justify-between font-semibold text-gray-900 dark:text-white"},K={key:0,class:"text-primary"},W={key:1,class:"text-gray-500"},X={class:"flex gap-3"},Y={key:0},Z={key:1},ne={__name:"QuantityDialog",props:{isOpen:{type:Boolean,default:!1},bag:{type:Object,required:!0},defaultQuantity:{type:Number,default:100}},emits:["close","confirm"],setup(a,{emit:l}){const n=a,o=l,t=x(n.defaultQuantity),u=x(!1);Q(()=>n.isOpen,b=>{b&&(t.value=n.defaultQuantity)});const g=async()=>{if(!(t.value<0)){u.value=!0;try{o("confirm",n.bag,t.value),o("close")}finally{u.value=!1}}},p=()=>{o("close")},h=()=>{t.value+=50},C=()=>{t.value>=50?t.value-=50:t.value=0};return(b,s)=>{const V=_;return a.isOpen?(d(),m("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center",onClick:p},[s[12]||(s[12]=e("div",{class:"absolute inset-0 bg-black/20"},null,-1)),e("div",{class:"relative z-10 w-full max-w-md rounded-lg bg-white p-6 shadow-xl dark:bg-gray-900",onClick:s[2]||(s[2]=A(()=>{},["stop"]))},[s[11]||(s[11]=e("h3",{class:"mb-4 text-lg font-semibold text-gray-900 dark:text-white"}," Add to Cart ",-1)),e("div",q,[e("div",D,[a.bag.images[0]?(d(),M(V,{key:0,provider:"aliyun",src:a.bag.images[0].url,alt:a.bag.images[0].alt,class:"h-full w-full object-cover"},null,8,["src","alt"])):v("",!0)]),e("div",null,[e("h4",H,c(a.bag.id)+" Handbag ",1),e("p",P,"¥"+c(a.bag.price),1)])]),e("div",R,[s[5]||(s[5]=e("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Quantity ",-1)),e("div",T,[e("button",{onClick:C,class:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-300 transition-colors hover:bg-gray-100 dark:border-gray-600 dark:hover:bg-gray-700",disabled:r(t)<=0},[...s[3]||(s[3]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,E),f(r(O),{modelValue:r(t),"onUpdate:modelValue":s[0]||(s[0]=y=>w(t)?t.value=y:null),modelModifiers:{number:!0},type:"number",min:"0",class:"w-20 text-center",onInput:s[1]||(s[1]=y=>t.value=Math.max(0,parseInt(r(t))||0))},null,8,["modelValue"]),e("button",{onClick:h,class:"flex h-10 w-10 items-center justify-center rounded-lg border border-gray-300 transition-colors hover:bg-gray-100 dark:border-gray-600 dark:hover:bg-gray-700"},[...s[4]||(s[4]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])])])]),e("div",G,[e("div",J,[s[6]||(s[6]=e("span",null,"Unit Price:",-1)),e("span",null,"¥"+c(a.bag.price),1)]),e("div",L,[s[7]||(s[7]=e("span",null,"Quantity:",-1)),e("span",null,c(r(t))+" pieces",1)]),s[9]||(s[9]=e("hr",{class:"my-2 border-gray-200 dark:border-gray-600"},null,-1)),e("div",F,[s[8]||(s[8]=e("span",null,"Total:",-1)),r(t)>0?(d(),m("span",K," ¥"+c((a.bag.price*r(t)).toLocaleString()),1)):(d(),m("span",W,"¥0"))])]),e("div",X,[f(r(k),{variant:"outline",class:"flex-1",onClick:p,disabled:r(u)},{default:S(()=>[...s[10]||(s[10]=[U(" Cancel ",-1)])]),_:1},8,["disabled"]),f(r(k),{class:"flex-1",onClick:g,disabled:r(u)||r(t)<=0},{default:S(()=>[r(u)?(d(),m("span",Y,"Adding...")):(d(),m("span",Z,"Add to Cart"))]),_:1},8,["disabled"])])])])):v("",!0)}}},ee=(a,l)=>{const n=encodeURIComponent(a),o=`${a}${l}.JPG`,t=encodeURIComponent(o);return`/${n}/${t}`},i=(a,l)=>Array.from({length:l},(n,o)=>{const t=String(o+1).padStart(3,"0");return{id:`${a}-${t}`,url:ee(a,t),alt:`${a} 手提包图片 ${t}`}}),te=[{id:"S01#",price:299,images:i("S01#",38)},{id:"S02#",price:199,images:i("S02#",7)},{id:"S03#",price:599,images:i("S03#",6)},{id:"S04#",price:399,images:i("S04#",15)},{id:"S05#",price:249,images:i("S05#",6)},{id:"S06#",price:329,images:i("S06#",8)},{id:"S07#",price:279,images:i("S07#",6)},{id:"S08#",price:159,images:i("S08#",13)},{id:"S09#",price:799,images:i("S09#",7)},{id:"S10#",price:189,images:i("S10#",19)},{id:"S11#",price:349,images:i("S11#",12)},{id:"S12#",price:459,images:i("S12#",8)},{id:"S13#",price:299,images:i("S13#",7)},{id:"S14#",price:399,images:i("S14#",9)},{id:"S15#",price:229,images:i("S15#",10)},{id:"S16#",price:269,images:i("S16#",10)},{id:"S17#",price:319,images:i("S17#",6)},{id:"S18#",price:699,images:i("S18#",1)},{id:"S19#",price:279,images:i("S19#",1)},{id:"S20#",price:199,images:i("S20#",1)},{id:"S21#",price:249,images:i("S21#",5)}],le=a=>te.find(l=>l.id===`${a}#`);export{ne as _,te as b,le as g};
