import{i as C}from"#entry";import{b as p,c as f,r as I}from"./DUus8gm5.js";const A=()=>{const a=(t,e)=>{if(window.gtag)try{window.gtag("event",t,{...e,timestamp:Date.now(),page_title:document.title,page_location:window.location.href}),console.log(`ðŸ“Š GA Event: ${t}`,e)}catch(c){console.error("Google Analytics event tracking error:",c)}};return{trackEvent:a,trackPageView:(t,e)=>{if(window.gtag)try{window.gtag("config","G-42C479XC36",{page_title:t||document.title,page_location:e||window.location.href}),console.log(`ðŸ“Š GA Page View: ${t||document.title}`)}catch(c){console.error("Google Analytics page view tracking error:",c)}},trackProductView:(t,e,c,i)=>{a("view_item",{currency:"CNY",value:c,items:[{item_id:t,item_name:e,item_category:i||"Handbag",price:c,quantity:1}]})},trackAddToCart:(t,e,c,i,m)=>{a("add_to_cart",{currency:"CNY",value:c*i,items:[{item_id:t,item_name:e,item_category:m||"Handbag",price:c,quantity:i}]})},trackViewCart:(t,e)=>{a("view_cart",{currency:"CNY",value:e,items:t})},trackBeginCheckout:(t,e)=>{a("begin_checkout",{currency:"CNY",value:e,items:t})},trackPurchase:(t,e,c)=>{a("purchase",{transaction_id:t,currency:"CNY",value:c,items:e})},trackSearch:(t,e)=>{a("search",{search_term:t,results_count:e})},trackUserInteraction:(t,e,c)=>{a("user_interaction",{action:t,element:e,value:c})},trackViewItemList:(t,e)=>{a("view_item_list",{item_list_id:t,item_list_name:t,items:Array.from({length:e},(c,i)=>({item_id:`item_${i+1}`,item_name:`Product ${i+1}`,item_category:t,index:i+1}))})},trackRemoveFromCart:(t,e,c,i,m)=>{a("remove_from_cart",{currency:"CNY",value:c*i,items:[{item_id:t,item_name:e,item_category:m||"Handbag",price:c,quantity:i}]})},trackProductImageView:(t,e)=>{a("product_image_view",{product_id:t,image_index:e})},trackEnhancedSearch:(t,e,c)=>{a("search",{search_term:t,results_count:e,search_category:c})},trackPageEngagement:(t,e)=>{a("page_engagement",{page_path:t,engagement_time_msec:e*1e3})},trackButtonClick:(t,e,c)=>{a("button_click",{button_name:t,button_location:e,value:c})},trackLinkClick:(t,e,c)=>{a("link_click",{link_text:t,link_url:e,link_location:c})},trackFormSubmit:(t,e,c)=>{a("form_submit",{form_name:t,form_location:e,success:c})},trackScrollDepth:(t,e)=>{a("scroll_depth",{page_path:t,scroll_depth:e})}}},q=C("cart",()=>{const a=p([]),l=f(()=>a.value.reduce((n,r)=>n+r.quantity,0)),d=f(()=>a.value.reduce((n,r)=>n+r.bag.price*r.quantity,0)),_=n=>a.value.some(r=>r.bagId===n),g=n=>{const r=a.value.find(o=>o.bagId===n);return r?r.quantity:0},k=(n,r=50)=>{const o=a.value.find(s=>s.bagId===n.id);o?o.quantity+=r:a.value.push({bagId:n.id,quantity:Math.max(50,r),bag:n})},u=n=>{const r=a.value.findIndex(o=>o.bagId===n);r!==-1&&a.value.splice(r,1)},h=(n,r)=>{const o=a.value.find(s=>s.bagId===n);o&&(r<50?u(n):o.quantity=Math.max(50,Math.round(r/50)*50))},v=()=>{a.value=[]},w=n=>{const r=a.value.find(o=>o.bagId===n);r&&r.quantity>50&&(r.quantity=Math.max(50,r.quantity-50))},y=n=>{const r=a.value.find(o=>o.bagId===n);r&&(r.quantity+=50)};return{items:I(a),totalItems:l,totalPrice:d,isInCart:_,getItemQuantity:g,addToCart:k,removeFromCart:u,updateQuantity:h,clearCart:v,decreaseQuantity:w,increaseQuantity:y}});export{A as a,q as u};
